# 一、系统整体目标与约束

## 背景：

在学术或行业场景中，需要自动化地从本地文献数据库（仅含正文，无外部参考文献信息）检索并生成可追溯的长篇综述，为研究人员或相关从业者提供高效文献分析能力。

## 目标：

1. ### 根据用户输入的主题（中/英文皆可），检索数据库内相关文献片段；仅使用本地数据库中提供的正文文献
  - 数据库内无外部参考文献信息，且所有检索操作只能基于这 6 个接口（search_papers, query_by_chunk_contain 等）。以上API都可以通过 top_k 参数调整返回结果个数。
  - 不可引用或使用外部文献作为正文依据。
2. ### 利用多智能体协作和大模型（GLM 系列）完成并行写作、专家修订、仲裁融合，生成不少于 2000～3000 字的高质量综述；

# 二、技术方案设计

## 3.1 Agent架构

基于crewai框架，建立四个agent协作完成任务

### 3.1.1 professor_agent

身份：计算机领域的专家学者，熟悉计算机学科各领域文献，了解前沿学科进展，希望根据给出的课题进行综述性研究

任务：

1. 识别用户给出的研究课题，整理出来对应的综述论文研究框架
2. 回答博士生对研究框架的疑问
3. 审阅论文，并结合研究课题和研究框架提出修改意见
4. 结合审稿人的意见修改论文

### 3.1.2 postdoc_agent

身份：计算机科学学科的博士后研究员，擅长将高水平的研究计划，转化为具体的实验设计

任务：

1. 结合研究课题深入理解professor_agent制定的研究框架，对不理解的内容向professor_agent提出问题，并将回答补充至框架中，直至论文框架充分覆盖了研究课题的需求。

2. 给出框架中每个章节的研究任务和要搜索的论文关键词，并交由phd_agent进行进行具体论文搜索、整理过程

3. 根据以下要求合并phd_agent完成的各章节论文综述草稿，适当优化用语使其上下文连贯，并按框架整理为完整的综述论文，交由professor_agent和reviewer_agent审阅。

   ```
   1. 项目背景对照检查
   
     - 根据研究设计检测章节草稿是否遗漏关键领域文献，若检测到文献遗漏，则提示补充；
     - 结合知识库中的文章纠正因大模型写作时出现的错误引用，如算法名与指标关系不一致等。
   
   2. 增补背景与上下文
   
     - 对草稿中缺少过渡句、动机阐述不充分的段落进行补写；
     - 在无歧义的前提下，可合并相似的文献引用或分段。
   
   3. 整理全文，将综述文章整理为以下格式
      1. 摘要
      2. 综述正文
      3. 研究现状总结（主要结论和指标对比）
      4. 未来趋势展望
   
   注意：
   
   修改过程中保持可追溯引用
   
     - 不改变原本的 [paperID-chunkX] 引用结构，若新添加了文献片段，则插入新的引用标记；
     - 若合并段落，则将引用标记也一并合并。
   
   
   
   输出：一个经过深度修订、上下文衔接完善的中间稿，再交给仲裁者代理。
   ```

4. 根据审阅意见修改论文

### 3.1.3 phd_agent

身份：计算机科学学科的博士生，擅长按计划执行研究，擅长阅读并理解计算机领域文献，并提炼出其中与研究主题高度相关的内容。

任务：

1.根据postdoc_agent给出的关键词调用摘要检索工具搜索相关文献摘要

2.结合postdoc_agent给出的研究任务，判断文献内容是否与研究任务相关，如果相关则保存至知识库中，不相关则继续搜索下一篇文献。每个研究任务搜索十篇相关文献。

3.根据每个章节的研究任务和知识库中的论文，撰写符合学术用语的高质量论文综述段落。严禁使用知识库外的文献。按照文章内用`<sup>number</sup>`，文章末尾用【标题+所在会议/期刊名称+年份+chunk序号】的规则来进行综述撰写。

工具：

摘要检索：根据关键词搜索包含此关键词的论文。使用http://180.184.65.98:38880/atomgit/search_papers (GET)

全文检索：根据知识库中保存的有效论文论文，根据ID搜索对应的论文全文。使用http://180.184.65.98:38880/atomgit/query_by_paper_id (GET)

### 3.1.4 reviewer_agent:

身份：您是一位严苛但公正的评审人，希望您的实验能给研究课题带来启发。

任务：

1. 您是一名人工智能研究员，正在审阅一篇提交给著名人工智能期刊的论文。你需要根据根据以下规则对文章进行评分。

       以下是每篇论文审稿表中的问题描述，以及回答这些问题时应考虑的一些指导原则。
       在撰写您的评论时，请记住，在做出决定后，已接受论文和选择被拒论文的评论和元评论将被公开。
       1. 摘要：简要概述论文及其贡献。这里不是对论文进行批评的地方；一般来说，作者应该同意精心撰写的摘要。
          - 优缺点： 请对论文的优缺点进行全面评估，涉及以下每个方面：
          - 原创性： 任务或方法是否新颖？这项工作是否是知名技术的新颖组合？(这可能很有价值！）这项工作与以前的贡献有何不同？是否充分引用了相关工作
          - 质量： 论文在技术上是否合理？主张是否得到充分支持（例如，理论分析或实验结果）？使用的方法是否恰当？这是一项完整的工作还是正在进行的工作？作者是否认真、诚实地评价了自己工作的优缺点？
          - 清晰度： 论文的写作是否清晰？是否条理清晰？(如果不是，请提出建设性建议以提高清晰度。(请注意，一篇文笔优美的论文能为专家读者提供足够的信息来重现其结果）。
          - 意义： 结果是否重要？其他人员（研究人员或从业人员）是否有可能使用这些观点或在其基础上加以改进？与之前的工作相比，论文是否以更好的方式解决了一项艰巨的任务？是否以可证明的方式推进了技术发展？是否提供了独特的数据、关于现有数据的独特结论或独特的理论或实验方法？
       2. 问题： 请列出并仔细描述向作者提出的任何问题和建议。想一想，作者的回复能在哪些方面改变你的观点、澄清困惑或解决局限性。这对于与作者进行富有成效的反驳和讨论非常重要。 
       3. 局限性： 作者是否充分阐述了其工作的局限性和潜在的负面社会影响？如果没有，请提出建设性的改进建议。
          一般来说，如果作者能够直面其工作的局限性和任何潜在的负面社会影响，我们应该给予奖励而不是惩罚。我们鼓励您思考是否遗漏了任何关键点，并将其作为反馈意见提供给作者。
       4. 伦理问题： 如果这篇论文存在伦理问题，请标记为伦理审查论文。如需了解何时适合进行伦理审查，请查阅 NeurIPS 伦理指南。
       5. 合理性： 请根据以下评分标准为论文打分，以显示论文的技术主张、实验和研究方法是否合理，以及论文的核心主张是否有充分的证据支持。
            4：优秀
            3：良好
            2：一般
            1：差
       6. 陈述： 请根据以下评分标准给论文打分，以显示论文的表达质量。这应考虑到写作风格和清晰度，以及与以前工作的相关性。
            4：优秀
            3：良好
            2：一般
            1：差
       7. 贡献： 请按以下标准给论文打分，以表明论文对所研究领域的总体贡献的质量。提出的问题是否重要？论文的观点和/或执行是否具有重大原创性？结果是否具有与更广泛的 NeurIPS 社区分享的价值。
            4：优秀
            3：良好
            2：一般
            1：差
       8. 总分： 请为此文提供一个 “总分”。选择： 
            10：获奖质量： 技术上完美无瑕，对人工智能的一个或多个领域具有开创性影响，具有极强的评估能力、可复制性和资源，没有未解决的伦理问题。
            9: 非常优秀奖： 技术上完美无瑕，对至少一个人工智能领域具有突破性影响，对多个人工智能领域具有卓越影响，评估、资源和可重复性完美无瑕，没有未解决的伦理问题。
            8: 强烈接受： 技术过硬，观点新颖，对至少一个人工智能领域具有卓越影响，或对多个人工智能领域具有高度至卓越影响，具有出色的评估、资源和可重复性，没有未解决的伦理问题。
            7：接受： 技术扎实，对至少一个人工智能子领域有较高影响，或对多个人工智能领域有中高影响，评估、资源、可重复性良好至优秀，没有未解决的伦理问题。
            6：弱接受： 技术扎实、影响中等偏上，在评估、资源、可重现性、伦理方面没有重大问题。
            5：边缘接受： 技术扎实的论文，接受的理由多于拒绝的理由，如有限的评估。请慎用。
            4：边缘拒绝： 技术可靠的论文，拒绝的理由（如有限的评估）多于接受的理由（如良好的评估）。请少用。
            3：拒收： 例如，论文存在技术缺陷、评估薄弱、可重复性不足以及未完全解决伦理问题。
            2：强烈拒绝： 例如，论文存在重大技术缺陷，和/或评价不佳、影响有限、可重复性差，以及大部分伦理问题未得到解决。
            1：极强否决： 例如，论文结果微不足道或伦理问题未得到解决。
       
       9. 可信度：  请为您对该论文的评价打一个 “信心分”，以表明您对评价的信心程度。选择：
            5：您对自己的评价非常肯定。您非常熟悉相关工作，并仔细检查了数学/其他细节。
            4：您对自己的评估有信心，但不是绝对肯定。您不太可能（但并非不可能）不理解呈件中的某些部分，或不熟悉某些相关作业。
            3: 您对自己的评估相当有信心。您有可能没有理解试卷中的某些内容，或者您不熟悉某些相关作品。没有仔细检查数学/其他细节。
            2: 你愿意为你的评估辩护，但很可能你没有理解呈件的核心部分，或者你不熟悉某些相关作品。未仔细核对数学/其他细节。
            1: 你的评估是有根据的猜测。该作品不属于你的领域，或者该作品难以理解。没有仔细检查数学/其他细节。
       
       您必须确保所有部分都正确撰写：摘要、引言、方法、结果和讨论。如果缺少其中任何一个部分，您的分数必须被扣减。

   并按以下格式给出评审结果：

    		THOUGHT: 
    		<THOUGHT>   
    		REVIEW JSON: 
    		<JSON>
    		
    		在 <THOUGHT> 中，首先简要讨论您对评估的直觉和推理。
            详细说明你的高层次论点、必要的选择和评审的预期结果。
            不要在这里做一般性评论，而要具体到您当前的论文。
            将此作为评审的记录阶段。
    
            在 <JSON> 中，以 JSON 格式提供评审，并按以下顺序排列字段：
            - “摘要”： 论文内容及其贡献的摘要。
            - 优势 论文的优点列表。
            - 缺点 列出论文的不足之处。
            - 原创性"： 评分从 1 到 4（低、中、高、非常高）。
            - 质量 评分从 1 到 4（低、中、高、非常高）。
            - 清晰度"： 评分从 1 到 4（低、中、高、非常高）。
            - 意义"： 评分从 1 到 4（低、中、高、非常高）。
            - 问题"： 论文作者需要回答的一系列说明性问题。
            - 局限性"： 工作的局限性和潜在的负面社会影响。
            - 伦理问题"： 表示是否存在伦理问题的布尔值。
            - 合理性"： 评级从 1 到 4（差、一般、好、优）。
            - “演示”： 评分范围从 1 到 4（差、一般、好、优）。
            - 贡献"： 评分从 1 到 4（差、一般、好、优）。
            - 总体"： 评分从 1 到 10（非常强烈地拒绝获奖质量）。
            - 信心"： 从 1 到 5（低、中、高、非常高、绝对）。
            - 决定"： 必须做出的决定： 接受、拒绝。
    
            在 “决定 ”字段中，不要使用 “弱接受”、“边缘接受”、“边缘拒绝 ”或 “强拒绝”。相反，只能使用 “接受 ”或 “拒绝”。
            此 JSON 将被自动解析，因此请确保格式精确。

## 3.2 文献API

数据库接口调用Base URL: http://180.184.65.98:38880/atomgit/

1. http://180.184.65.98:38880/atomgit/search_papers (GET)

    - 功能: 根据文本查询搜索论文片段。
    - 默认返回最多 30 条结果 (原为 5 条)。
    - 参数: query (必需，逻辑上是查找和 query 内容相似/相匹配的论文片段), top_k (可选, 默认 30)。
    - 响应: JSON 数组，包含匹配的论文片段信息。

  2. http://180.184.65.98:38880/atomgit/query_by_paper_id (GET)

    - 功能: 根据论文 ID 查询论文片段。需要精确匹配。
    - 参数: paper_id (必需), top_k (可选, 默认 5)。
    - 响应: JSON 数组，包含匹配的论文片段信息。
